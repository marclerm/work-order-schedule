<div class="page">
    <header class="page-header mb-2">
        <h1>Work Orders</h1>
        <app-timescale-selector 
        [(value)]="timeScale"
        (valueChange)="onTimeScaleChange($event)">
        </app-timescale-selector>
    </header>

    <section class="timeline">
        <div class="timeline-left">
            <div class="left-header">Work Center</div>
            <div class="left-row" *ngFor="let workCenter of workCenters">
                {{ workCenter.data.name }}
            </div>
        </div>

        <div class="timeline-right" #scrollElement>
            <div class="right-header">
                <!-- Headers of timeline here, e.g. Jan, Feb, Week 1, Week 2, Day 1, Day 2, etc. -->
                <div class="header-grid"
                    [style.gridAutoColumns.px]="columnWidthPx()">
                    <div class="header-cell" 
                        *ngFor="let c of columns(); trackBy: trackByColumnKey">
                        {{ c.label }}
                    </div>
                </div>

                <!-- Current label pill below the column header -->
                <div class="current-pill"
                    *ngIf="currentColumnIndex() >= 0"
                    [style.left.px]="currentLineLeftPx()">
                    {{ currentLabel() }}
                </div>
            </div>

            <!-- Current vertical line -->
             <div class="current-line"
             *ngIf="currentColumnIndex() >= 0"
             [style.left.px]="currentLineLeftPx()">
                <!-- No value, just draw the line -->
            </div>

            <div class="rows">
                <div class="row" *ngFor="let workCenter of workCenters">
                    <div class="row-grid"
                        [style.gridAutoColumns.px]="columnWidthPx()">
                        <div class="cell" 
                            *ngFor="let c of columns(); trackBy: trackByColumnKey">
                            <!-- Cells of timeline here, e.g. work orders, empty slots, etc. -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>